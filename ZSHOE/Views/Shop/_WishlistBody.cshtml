@model IEnumerable<Product>



@foreach (var item in Model)
{
    string imagePath = item.ProductImages.FirstOrDefault(i => i.IsMain == true)?.Name;

    <tr>
        <td class="product-col">
            <div class="product">
                <figure class="product-media">
                    <a asp-controller="shop" asp-action="details" asp-route-id="@item.Id">
                        <img src="~/uploads/images/@imagePath" alt="Product image">
                    </a>
                </figure>

                <h3 class="product-title">
                    <a asp-controller="shop" asp-action="details" asp-route-id="@item.Id">@item.Name</a>
                </h3><!-- End .product-title -->
            </div><!-- End .product -->
        </td>
        <td class="price-col">@item.Price</td>
        <td class="stock-col"><span class="in-stock">In stock</span></td>
        <td class="action-col">
            <button onclick="addToBasket(event)" data-product-id="@item.Id" class="btn btn-block btn-outline-primary-2"><i class="icon-cart-plus"></i>Add to Cart</button>
        </td>
        @*<td class="action-col">
    <button class="btn btn-block btn-outline-primary-2 disabled">Out of Stock</button>
    </td>*@
        <td onclick="removeFromFav(@item.Id,event)" class="remove-col"><button class="btn-remove"><i class="icon-close"></i></button></td>
    </tr>
}